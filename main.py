# Imports
from typing import Optional
from fastapi import FastAPI

# Code
app = FastAPI()

portCargoCapacities = [
{"Port":"Albany, NY","Calls":"90","GT":"1603097","DWT":"2488264"},
{"Port":"Anacortes, WA","Calls":"205","GT":"10520903","DWT":"17745659"},
{"Port":"Anchorage, AK","Calls":"231","GT":"9396921","DWT":"5832140"},
{"Port":"Apra Harbor, GU","Calls":"348","GT":"6689336","DWT":"7102032"},
{"Port":"Baltimore, MD","Calls":"1826","GT":"87910393","DWT":"79129409"},
{"Port":"Barber's Point (Kalaeloa)","Calls":"191","GT":"7883116","DWT":"13955913"},
{"Port":"Benicia, CA","Calls":"536","GT":"24195029","DWT":"34395332"},
{"Port":"Boston, MA","Calls":"544","GT":"21467034","DWT":"24500037"},
{"Port":"Bridgeport, CT","Calls":"1","GT":"6292","DWT":"9240"},
{"Port":"Brownsville, TX","Calls":"194","GT":"6036288","DWT":"10253209"},
{"Port":"Brunswick, GA","Calls":"646","GT":"33156242","DWT":"14516833"},
{"Port":"Bucksport, ME","Calls":"17","GT":"401478","DWT":"646629"},
{"Port":"Buffalo, NY","Calls":"10","GT":"67290","DWT":"73620"},
{"Port":"Burns Harbor, IN","Calls":"62","GT":"1213559","DWT":"1965612"},
{"Port":"Charleston, SC","Calls":"2069","GT":"107675871","DWT":"115249094"},
{"Port":"Cherry Point, WA","Calls":"259","GT":"16750831","DWT":"28518400"},
{"Port":"Cleveland, OH","Calls":"131","GT":"1908445","DWT":"2984248"},
{"Port":"Corpus Christi, TX","Calls":"1711","GT":"56825878","DWT":"97315115"},
{"Port":"Cove Point, MD","Calls":"4","GT":"437594","DWT":"325133"},
{"Port":"Davisville, RI","Calls":"177","GT":"10137748","DWT":"3274951"},
{"Port":"Delaware River Ports","Calls":"1222","GT":"37901994","DWT":"62731162"},
{"Port":"Detroit, MI","Calls":"61","GT":"961597","DWT":"1539718"},
{"Port":"Duluth-Superior","Calls":"83","GT":"1191116","DWT":"1828660"},
{"Port":"Dutch Harbor, AK","Calls":"374","GT":"6270833","DWT":"7021629"},
{"Port":"El Segundo Offshore Oil Terminal, CA","Calls":"220","GT":"13172635","DWT":"23686661"},
{"Port":"Everett, MA","Calls":"12","GT":"593052","DWT":"663283"},
{"Port":"Everett, WA","Calls":"118","GT":"2893931","DWT":"3672569"},
{"Port":"Fall River, MA","Calls":"25","GT":"428269","DWT":"588316"},
{"Port":"Fernandina, FL","Calls":"1","GT":"10215","DWT":"9334"},
{"Port":"Galveston, TX","Calls":"617","GT":"19366798","DWT":"19601293"},
{"Port":"Georgetown, SC","Calls":"0","GT":"0","DWT":"0"},
{"Port":"Grays Harbor, WA","Calls":"84","GT":"3025231","DWT":"2935585"},
{"Port":"Greater Baton Rouge, LA","Calls":"875","GT":"23044300","DWT":"39023595"},
{"Port":"Guayanilla, PR","Calls":"118","GT":"4948015","DWT":"6419126"},
{"Port":"Gulfmex No. 2 Lightering Zone","Calls":"1497","GT":"64053810","DWT":"114664675"},
{"Port":"Gulfport, MS","Calls":"48","GT":"572439","DWT":"644632"},
{"Port":"Hampton Roads","Calls":"1957","GT":"101873231","DWT":"124916816"},
{"Port":"Hilo, HI","Calls":"36","GT":"1031849","DWT":"466381"},
{"Port":"Homer, AK","Calls":"3","GT":"33237","DWT":"27446"},
{"Port":"Honolulu, HI","Calls":"474","GT":"15583217","DWT":"14051725"},
{"Port":"Houston, TX","Calls":"7981","GT":"216925214","DWT":"325028465"},
{"Port":"Jacksonville, FL","Calls":"1563","GT":"67285902","DWT":"51129058"},
{"Port":"Kahului, HI","Calls":"22","GT":"835787","DWT":"288531"},
{"Port":"Kalama, WA","Calls":"274","GT":"9265191","DWT":"16825114"},
{"Port":"Kodiak, AK","Calls":"97","GT":"2092844","DWT":"2095826"},
{"Port":"Lake Charles, LA","Calls":"786","GT":"27826168","DWT":"48092511"},
{"Port":"Long Beach, CA","Calls":"1835","GT":"118276690","DWT":"149952681"},
{"Port":"Longview, WA","Calls":"2","GT":"62082","DWT":"65418"},
{"Port":"Los Angeles, CA","Calls":"1853","GT":"104523837","DWT":"119950688"},
{"Port":"Louisiana Offshore Oil Port","Calls":"181","GT":"17505162","DWT":"33217958"},
{"Port":"Martinez, CA","Calls":"29","GT":"1260742","DWT":"2237773"},
{"Port":"Mayaguez, PR","Calls":"3","GT":"71135","DWT":"116131"},
{"Port":"Miami, FL","Calls":"1461","GT":"34277396","DWT":"41430809"},
{"Port":"Mobile, AL","Calls":"1225","GT":"42430475","DWT":"64109488"},
{"Port":"Morehead City, NC","Calls":"117","GT":"2306952","DWT":"3356009"},
{"Port":"Nawiliwili, HI","Calls":"11","GT":"109144","DWT":"136589"},
{"Port":"New Haven, CT","Calls":"121","GT":"3204042","DWT":"5298391"},
{"Port":"New London, CT","Calls":"22","GT":"583553","DWT":"957105"},
{"Port":"New Orleans, LA","Calls":"7192","GT":"230212530","DWT":"385443285"},
{"Port":"New York & New Jersey","Calls":"4547","GT":"207830730","DWT":"247227720"},
{"Port":"Newport, RI","Calls":"0","GT":"0","DWT":"0"},
{"Port":"Nikiski, AK","Calls":"86","GT":"3145545","DWT":"4698519"},
{"Port":"Oakland, CA","Calls":"1406","GT":"94791985","DWT":"102640230"},
{"Port":"Offshore Pascagoula No. 2 Lightering Zone","Calls":"378","GT":"13632611","DWT":"23808093"},
{"Port":"Oswego, NY","Calls":"31","GT":"209796","DWT":"247507"},
{"Port":"Palm Beach, FL","Calls":"736","GT":"3785372","DWT":"4691313"},
{"Port":"Panama City, FL","Calls":"232","GT":"2235750","DWT":"3313940"},
{"Port":"Pascagoula, MS","Calls":"241","GT":"8499698","DWT":"14626075"},
{"Port":"Pensacola, FL","Calls":"35","GT":"324521","DWT":"457703"},
{"Port":"Philadelphia, PA","Calls":"895","GT":"28352623","DWT":"29804290"},
{"Port":"Pittsburg, CA","Calls":"86","GT":"2670009","DWT":"4615671"},
{"Port":"Point Comfort, TX","Calls":"353","GT":"8842014","DWT":"15042395"},
{"Port":"Ponce, PR","Calls":"39","GT":"639990","DWT":"1001612"},
{"Port":"Port Angeles, WA","Calls":"244","GT":"14321518","DWT":"23430406"},
{"Port":"Port Canaveral, FL","Calls":"178","GT":"4278800","DWT":"6014210"},
{"Port":"Port Everglades, FL","Calls":"2166","GT":"41747762","DWT":"55063906"},
{"Port":"Port Freeport, TX","Calls":"714","GT":"21027874","DWT":"31178354"},
{"Port":"Port Hueneme, CA","Calls":"411","GT":"15848054","DWT":"7608377"},
{"Port":"Port Jefferson, NY","Calls":"5","GT":"135476","DWT":"235687"},
{"Port":"Port Manatee, FL","Calls":"205","GT":"3159366","DWT":"4172448"},
{"Port":"Port of South Louisiana, LA","Calls":"4909","GT":"152734738","DWT":"264681129"},
{"Port":"Portland, ME","Calls":"227","GT":"6106828","DWT":"10047182"},
{"Port":"Portland, OR","Calls":"501","GT":"17153780","DWT":"20241727"},
{"Port":"Portsmouth, NH","Calls":"96","GT":"2123791","DWT":"3397366"},
{"Port":"Providence, RI","Calls":"185","GT":"5639074","DWT":"7719486"},
{"Port":"Richmond, CA","Calls":"636","GT":"28128856","DWT":"40991143"},
{"Port":"Richmond, VA","Calls":"0","GT":"0","DWT":"0"},
{"Port":"Rochester, NY","Calls":"16","GT":"108672","DWT":"134032"},
{"Port":"Sabine-Neches Waterway","Calls":"2776","GT":"108935678","DWT":"164142119"},
{"Port":"San Diego, CA","Calls":"385","GT":"16086517","DWT":"8057786"},
{"Port":"San Francisco, CA","Calls":"41","GT":"1438445","DWT":"2226278"},
{"Port":"San Juan, PR","Calls":"1077","GT":"20578255","DWT":"21847629"},
{"Port":"Savannah, GA","Calls":"2620","GT":"130748489","DWT":"147588276"},
{"Port":"Searsport, ME","Calls":"76","GT":"1709564","DWT":"2765350"},
{"Port":"Seattle, WA","Calls":"643","GT":"36003757","DWT":"42420683"},
{"Port":"South Sabine Point Lightering Zone","Calls":"3906","GT":"142618325","DWT":"249452734"},
{"Port":"Southtex Lightering Zone","Calls":"3557","GT":"139945103","DWT":"248329254"},
{"Port":"St. Croix, USVI","Calls":"333","GT":"2389127","DWT":"2861396"},
{"Port":"St. Thomas, USVI","Calls":"360","GT":"2385393","DWT":"2885389"},
{"Port":"Stockton, CA","Calls":"234","GT":"5979460","DWT":"9821700"},
{"Port":"Tacoma, WA","Calls":"1062","GT":"58174767","DWT":"51298773"},
{"Port":"Tallaboa, PR","Calls":"25","GT":"286832","DWT":"380784"},
{"Port":"Tampa, FL","Calls":"1002","GT":"23549605","DWT":"35190558"},
{"Port":"Texas City, TX","Calls":"960","GT":"26669196","DWT":"45307564"},
{"Port":"Toledo, OH","Calls":"38","GT":"499170","DWT":"746756"},
{"Port":"Valdez, AK","Calls":"230","GT":"17797113","DWT":"30475588"},
{"Port":"Vancouver, WA","Calls":"344","GT":"11216330","DWT":"14637132"},
{"Port":"Wilmington, DE","Calls":"370","GT":"11300453","DWT":"11143667"},
{"Port":"Wilmington, NC","Calls":"508","GT":"14211600","DWT":"18450682"},
{"Port":"Yabucoa, PR","Calls":"82","GT":"1454611","DWT":"2429542"}
]

@app.get("/")
def read_root():
    return portCargoCapacities

@app.get("/numberPorts/{item_num}")
def read_item(item_num : int, q : Optional[str] = None):
    smallerList = []
    numberPorts = len(portCargoCapacities)
    if item_num > numberPorts:
        return "Too many ports selected: enter a number smaller than ", numberPorts
    else:
        for i in range(0, item_num):
            smallerList.append(portCargoCapacities[i])
        return smallerList